emcc -Os -Werror -s EXPORT_NAME=\"M64\"  -s MODULARIZE=1 -s EXPORTED_FUNCTIONS=["_m64_init","_m64_setCharacterROM","_m64_setBASICROM","_m64_setKernalROM","_m64_getPixelBuffer","_m64_getPixelBufferWidth","_m64_getPixelBufferHeight","_m64_update","_m64_reset","_m64_keyPush","_m64_keyRelease","_m64_joystickPush","_m64_joystickRelease","_m64_injectAndRunPrg","_m64_injectPrg","_m64_loadCartridge","_m64_setColor","_m64_audioInit","_m64_getAudioBuffer","_m64_getAudioBufferLength","_m64_getAudioSamplesAvailable","_m64_setSIDModel","_m64_cpuWrite","_m64_cpuRead"]  -s EXPORTED_RUNTIME_METHODS=["ccall","cwrap"]  -s ALLOW_MEMORY_GROWTH=1 src/m64.c src/memory/pla.c src/memory/basicROM.c src/memory/characterROM.c src/memory/colorRAM.c src/memory/disconnectedBusBank.c src/memory/ioBank.c src/memory/kernalROM.c src/memory/sidBank.c src/memory/systemRAM.c src/memory/zeroPageRAM.c src/cartridge/cartridge.c  src/clock/clock.c  src/iec/iecBus.c src/joystick/joystick.c src/keyboard/keyboard.c src/vic/m6569.c src/vic/m6567.c src/vic/sprite.c src/vic/vic.c  src/cpu/m6510.c  src/cia/cia1.c src/cia/cia2.c src/cia/interrupts.c src/cia/timer.c src/cia/m6526.c src/cia/timerA.c src/cia/timerB.c src/cia/tod.c src/sid/sid.c src/sid/filters.c src/sid/wavetable.c src/sid/voice.c src/sid/envelope.c -o build/m64.js